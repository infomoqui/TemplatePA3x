//--------------------------------------------------------------
// Copyright (C) joomla-monster.com
// License: http://www.joomla-monster.com/license.html Joomla-Monster Proprietary Use License
// Website: http://www.joomla-monster.com
// Support: info@joomla-monster.com
//---------------------------------------------------------------

// VARIABLES import
//---------------------------------------------------------------

@import "bootstrap_variables.less";
@import "template_variables.less";

// MIXINS import
//---------------------------------------------------------------

@import "template_mixins.less";

// MEGAMENU
//---------------------------------------------------------------

.dj-megamenu-override {
	display: block;
	position: relative;
	z-index: 500;
	text-align: center;
	margin: 0;
	.cf();
}

.dj-megamenu-override li.dj-up {
	background-image: none;
	position: relative;
	display: inline-block;
	vertical-align: top;
	padding: 0;
	margin: 0;
	z-index: 1;
	a.dj-up_a {
		font-size: @JMtopmenuFontSize;
		font-family: @JMtopmenuFontFamily;
		font-weight: @JMtopmenuFontWeight;
		display: block;
		text-decoration: none;
		padding: @JMtopmenuItemHeight 0;
		margin: 0 @JMtopmenuItemWidth;
		line-height: 20px;
		cursor: pointer;
		color: @JMtopmenuFontColor;
		span {
			display: block;
		}
		small.subtitle {
			display: block;
			font-size: 10px;
			font-weight: 400;
			line-height: 1.2;
			.opacity(90);
		}
	}
	&.active,
	&:hover,
	&.hover	 {
		a.dj-up_a {
			color: @JMtopmenuFontColorHover;
			text-decoration: underline;
		}
	}
}

.dj-megamenu-override li.separator > a {
	cursor: default;
}

// vertical
// --------------------------

.dj-megamenu-override.verticalMenu {
	li.dj-up {
		display: block;
		float: left;
		clear: both;
	}
	li:hover,
	li.hover {
		div.dj-subwrap {
			top: 0;
			left: 100%;
		}
	}
}

// sticky
// --------------------------

.dj-megamenu-override.dj-megamenu-sticky {
	margin: 0!important;
	background: @JMheaderBackground;
	ul.dj-megamenu {
		margin: 0!important;
	}
}

.dj-megamenu-override .dj-stickylogo {
	&.dj-align-center {
		text-align: center;
		margin: 10px;
	}
	&.dj-align-left {
		text-align: left;
		margin: 10px;
	}
	&.dj-align-right {
		text-align: right;
		margin: 10px;
	}
}

// mobile
// --------------------------

.dj-offcanvas {
	.jm-module,
	.moduletable {
		margin-bottom: 0;
	}
	ul.dj-mobile-light .modules-wrap {
		padding: 15px;
	}
}

#jm-allpage {
	.dj-megamenu-offcanvas,
	.dj-megamenu-accordion,
	.dj-megamenu-select {
		.dj-mobile-open-btn {
			width: auto;
			height: auto;
			//background: url('../images/burger-menu.png') no-repeat;
			background: none;
			padding: 0;
			color: inherit;
			font-size: inherit;
			.border-radius(0);
			//position: relative;
			text-decoration: none;
			&:hover,
			&:focus {
				.opacity(80);
				//background: none;
				//color: inherit;
				// text-decoration: underline;
				// .fa.fa-bars {
				// 	.opacity(50);
				// }
			}
			// &:after{
			// 	margin-top: 32px;
			// 	display: block;
			// 	position: relative;
			// 	font-size: 15px;
			// 	line-height: 1;
			// }
		}
		.fa.fa-bars {
			width: 60px;
			height: 50px;
			line-height: 1;
			display: inline-block;
			background-color: currentColor;
			-webkit-mask: url(../images/burger.svg) no-repeat 50% 50%;
			mask: url(../images/burger.svg) no-repeat 50% 50%;
			-webkit-mask-size: cover;
			mask-size: cover;
			&:before {
				display: none;
			}
		// 	font-family: inherit;
		// 	top: 0;
		// 	display: block;
		// 	position: relative;
		// 	transform: translateY(9px);
		// 	background: currentColor;
		// 	transition: top 0ms 300ms, top 0ms 300ms;
		// 	&:before {
		// 		content: "";
		// 		position: absolute;
		// 		left: 0;
		// 		bottom: 9px;
		// 		background: currentColor;
		// 		transition: bottom 300ms 300ms cubic-bezier(0.23, 1, 0.32, 1), transform 300ms cubic-bezier(0.23, 1, 0.32, 1);
		// 	}
		// 	&:after {
		// 		content: "";
		// 		position: absolute;
		// 		left: 0;
		// 		top: 9px;
		// 		background: currentColor;
		// 		transition: top 300ms 300ms cubic-bezier(0.23, 1, 0.32, 1), transform 300ms cubic-bezier(0.23, 1, 0.32, 1);
		// 	}
		}
		// .fa.fa-bars,
		// .fa.fa-bars:after,
		// .fa.fa-bars:before {
		// 	width: 100%;
		// 	max-width: 50px;
		// 	height: 2px;
		// 	margin: 0 auto;
		// }
	}
}


// .dj-offcanvas-open #jm-allpage {
// 	.dj-megamenu-offcanvas,
// 	.dj-megamenu-accordion,
// 	.dj-megamenu-select {
// 		.fa.fa-bars {
// 			background: none;
// 			&:after {
// 				top: 0;
// 				transform: rotate(45deg);
// 				transition: top 300ms cubic-bezier(0.23, 1, 0.32, 1), transform 300ms 300ms cubic-bezier(0.23, 1, 0.32, 1);;
// 			}
// 			&:before {
// 				bottom: 0;
// 				transform: rotate(-45deg);
// 				transition: bottom 300ms cubic-bezier(0.23, 1, 0.32, 1), transform 300ms 300ms cubic-bezier(0.23, 1, 0.32, 1);;
// 			}
// 		}
		
// 	}
// }

// select
// --------------------------

#jm-allpage .select-input .dj-select {
	vertical-align: top;
	max-width: none;
	margin: 10px 0;
	font-family: inherit;
	font-size: @JMinputFontSize;
	font-weight: normal;
	padding: 0 8px;
	vertical-align: middle;
	color: @JMinputFontColor;
	background: @JMinputBackground;
	height: @JMinputHeight;
	line-height: @JMinputHeight;
}

// submenu
// --------------------------

.dj-megamenu-override li.dj-up:hover,
.dj-megamenu-override li.dj-up.hover,
.dj-megamenu-override .dj-submenu > li:hover,
.dj-megamenu-override .dj-subtree > li:hover {
	position: relative;
	z-index: 200;
}

//hide submenus
.dj-megamenu-override li div.dj-subwrap {
	position: absolute;
	left: auto;
	right: auto;
	top: -9999px;
	visibility: hidden;
	text-align: left;
}

//first level submenu
.dj-megamenu-override {
	li:hover,
	li.hover {
		div.dj-subwrap {
			left: 0;
			right: auto;
			top: 100%;
			visibility: visible;
			z-index: 300;
			.box-sizing(border-box);
			div.dj-subwrap-in {
				background: @JMtopSubmenuBackground;
			}
		}
	}
}

//higher level submenu
.dj-megamenu-override {
	li:hover,
	li.hover {
		div.dj-subwrap div.dj-subwrap {
			left: 100%;
			right: auto;
			top: -15px;
			z-index: 400;
		}
	}
}

//submenu elements styles
.dj-megamenu-override .dj-subcol {
	display: inline-block;
	vertical-align: top;
	font-size: @JMtopmenuFontSize;
	.box-sizing(border-box);
	margin: 10px 0;
}

.dj-megamenu-override .dj-submenu {
	> li {
		display: block;
		position: relative;
		padding: 0 25px;
		background: none;
		> a {
			color: @JMtopSubmenuFontColor;
			display: block;
			line-height: 20px;
			text-decoration: none;
			padding: 5px 0;
			small.subtitle {
				display: block;
				font-size: 11px;
			}
		}
	}
	> li:hover > a,
	> li.hover > a,
	> li.active > a {
		color: @JMtopSubmenuFontColorHover;
		text-decoration: underline;
	}
	> li.parent > a {
		position: relative;
	}
}

//image / icon in menu element
.dj-megamenu-override {
	li.dj-up a {
		em {
			vertical-align: middle;
		}
		span {
			display: block;
		}
		.arrow,
		img {
			vertical-align: middle;
		}
		span.image-title {
			margin: 0 0 0 15px;
			display: inline-block;
			vertical-align: middle;
		}
		&:hover {
			.image-title {
				text-decoration: underline;
			}
		}
	}
}

// submenu tree
// --------------------------

.dj-megamenu-override .dj-subtree {
	padding-left: 8px;
		> li > a {
		display: block;
		color: @JMtopSubmenuFontColor;
		line-height: @baseLineHeight; // 20px
		font-weight: @JMbaseFontWeight;
		padding-top: 5px;
		padding-bottom: 5px;
		padding-left: 12px;
		padding-right: 0;
		text-decoration: none;
	}
	> li > a small.subtitle {
		display: block;
		font-size: 0.9em;
		line-height: 1;
	}
	> li:hover > a,
	> li.hover > a,
	> li.active > a {
		color: @JMtopSubmenuFontColorHover;
		text-decoration: underline;
	}
	> li.parent > a {
		position: relative;
	}
}

// modules
// --------------------------

.dj-megamenu-override .modules-wrap {
	color: @JMtopSubmenuFontColor;
	padding: 10px 0;
	p {
		display: block;
		padding: 0;
	}
	.moduletable {
		clear: both;
		margin: @JMbaseSpace 0 0;
		position: relative;
		> h3 {
			color: @JMtopSubmenuFontColor;
			font-weight: @JMtopmenuFontWeight;
			font-size: @JMtopmenuFontSize;
			text-transform: uppercase;
			line-height: 1.1;
			position: relative;
			margin: 0 0 20px;
		}
		&:first-child {
			margin: 0;
		}
	}
}

// menus module
// --------------------------

// megamenu
.dj-megamenu-override {
	.nav.menu {
		> li > a,
		> li > span.separator {
			background: none;
			border: none;
			padding-top: 6px;
			padding-bottom: 6px;
			font-size: @JMtopmenuFontSize;
		}
		> li.parent > ul,
		> li.parent > ul {
			margin: 0;
		}
		li a,
		li span.separator {
			color: @JMtopSubmenuFontColor;
			&:hover,
			&:focus {
				color: @JMtopSubmenuFontColorHover;
				text-decoration: underline;
			}
		}
		li.current,
		li.active {
			> a,
			> span.separator {
				color: @JMtopSubmenuFontColorHover;
				text-decoration: underline;
			}
		}
	}
}